
<!DOCTYPE html>
<html>
<head>
    <title>Create User</title>
    <link rel="stylesheet" type="text/css" href="vendors/styles/core.css" />
    <link rel="stylesheet" type="text/css" href="vendors/styles/style.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body class="login-page">
    <div class="login-header box-shadow">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="brand-logo">
                <a href="index.html">
                    <img src="vendors/images/deskapp-logo.svg" alt="" />
                </a>
            </div>
            <div class="login-menu">
                <ul>
                    <li><a href="index.html">Login</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="register-page-wrap d-flex align-items-center flex-wrap justify-content-center">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 col-lg-7">
                    <img src="vendors/images/register-page-img.png" alt="" />
                </div>
                <div class="col-md-6 col-lg-5">
                    <div class="register-box bg-white box-shadow border-radius-10">
                        
                        
                        
                        <div class="wizard-content">
                            <form id="createUserForm" class="tab-wizard2 wizard-circle wizard">
                                <h5> </h5>
                                <section>
                                    <div class="form-wrap max-width-600 mx-auto">
                                        <div class="form-group row">
                                            <label for="username" class="col-sm-4 col-form-label">Username*</label>
                                            <div class="col-sm-8">
                                                <input type="text" id="username" name="username" required class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="password" class="col-sm-4 col-form-label">Password*</label>
                                            <div class="col-sm-8">
                                                <input type="password" id="password" name="password" required class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                </section>
								<button type="submit" class="btn btn-primary btn-lg btn-block" href="index.html" >Cearte User</button>
                                <div class="font-16 weight-600 pt-10 pb-10 text-center" data-color="#707373" style="color: rgb(112, 115, 115);">
                                    OR
                         </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
                // الحصول على عنصر النموذج من الصفحة باستخدام معرفه
            const createUserForm = document.getElementById('createUserForm');

            // إضافة مستمع الحدث عند إرسال النموذج
             createUserForm.addEventListener('submit', async (event) => {
    // منع السلوك الافتراضي لإرسال النموذج لمنع تحديث الصفحة
    event.preventDefault();

    // الحصول على قيمة اسم المستخدم وكلمة المرور من النموذج
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    try {
        // إرسال طلب POST إلى الخادم لإنشاء مستخدم جديد باستخدام axios
        const response = await axios.post('http://localhost:3000/api/users', {
            username,
            password
        });

        // طباعة رسالة الاستجابة من الخادم في وحدة التحكم وعرضها للمستخدم
        console.log(response.data.message);
        alert(response.data.message);

        // إعادة تعيين النموذج بعد إرسال البيانات بنجاح
        createUserForm.reset();
    } catch (error) {
        // في حال وقوع خطأ (مثل فشل الطلب)، يتم توجيه المستخدم إلى الصفحة الرئيسية
        window.location.href = 'index.html';

        // طباعة رسالة الخطأ من الخادم في وحدة التحكم وعرضها للمستخدم
        console.error(error.response.data.error);
        alert(error.response.data.error);
    }
});




    </script>
    <script src="vendors/scripts/core.js"></script>
    <script src="vendors/scripts/script.min.js"></script>
    <script src="vendors/scripts/process.js"></script>
    <script src="vendors/scripts/layout-settings.js"></script>
    <script src="src/plugins/jquery-steps/jquery.steps.js"></script>
    <script src="vendors/scripts/steps-setting.js"></script>
</body>
</html>




































